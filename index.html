<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Porto Bello Hotel | Time & Date</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{ --row-gap:10px; --pad-x:18px; --pad-y:14px; }

    html, body {
      margin: 0; width: 100%; height: 100%;
      background: #0b1320; color: #fff;
      font-family: Arial, Helvetica, sans-serif;
      overflow: hidden;
    }

    body {
      position: relative; display: flex; flex-direction: column;
      align-items: center; justify-content: center;
    }

    /* LOGO */
    .logo {
      position: absolute; top: 28px; left: 28px;
      width: 190px; opacity: .88;
      filter: drop-shadow(0 0 10px rgba(255,255,255,.08));
      user-select: none; pointer-events: none;
    }

    /* CLOCK + DATE */
    #clock {
      font-size: clamp(72px, 9vw, 120px);
      font-weight: 750; letter-spacing: 4px;
      text-shadow: 0 0 12px rgba(255,255,255,.15), 0 0 24px rgba(255,255,255,.08);
    }
    #date {
      margin-top: 18px; font-size: clamp(24px, 3.2vw, 44px);
      opacity: .86; letter-spacing: 1px; font-weight: 300;
    }

    /* BOTTOM AREA (2 ROWS) */
    .bottom {
      position: absolute; left: 0; right: 0; bottom: 0;
      padding: var(--pad-y) var(--pad-x) calc(var(--pad-y) + 4px);
      background: rgba(0,0,0,.18); backdrop-filter: blur(6px);
      border-top: 1px solid rgba(255,255,255,.08);
      display: flex; flex-direction: column; gap: var(--row-gap);
    }

    .ticker {
      position: relative; width: 100%;
      line-height: 1.35; font-size: clamp(16px, 2.2vw, 28px);
      white-space: nowrap;
      /* clipping for marquee */
      overflow: hidden; mask-image: linear-gradient(90deg, transparent 0, #000 36px, #000 calc(100% - 36px), transparent 100%);
      -webkit-mask-image: linear-gradient(90deg, transparent 0, #000 36px, #000 calc(100% - 36px), transparent 100%);
    }

    /* The scrolling belt (created once per row) */
    .belt {
      display: inline-flex; align-items: center; gap: 12px;
      will-change: transform;
    }
    .content { display: inline-flex; align-items: center; gap: 12px; }
    .sep { opacity: .35; }

    /* Active / Past states */
    @keyframes pulse{ 0%{opacity:1} 50%{opacity:.45} 100%{opacity:1} }
    .active{ animation: pulse 1.1s ease-in-out infinite; color:#ffd166; font-weight:700; text-shadow:0 0 14px rgba(255,209,102,.18); }
    .activeGlow{ text-shadow:0 0 18px rgba(255,209,102,.20), 0 0 34px rgba(255,209,102,.10); }
    .live{ animation: pulse 1s ease-in-out infinite; color:#8be9fd; font-weight:800; text-shadow:0 0 16px rgba(139,233,253,.18); }
    .past{ opacity:.35; filter:saturate(.9); }

    /* Badges */
    .badge{
      display:inline-block; margin-left:10px; padding:4px 10px; border-radius:999px;
      font-size:.65em; letter-spacing:.6px; font-weight:800; vertical-align:middle;
      background: rgba(255,209,102,.14); border:1px solid rgba(255,209,102,.22); text-transform:uppercase;
    }
    .badge-live{ background:rgba(139,233,253,.14); border:1px solid rgba(139,233,253,.25); }
    .active .badge, .live .badge{ opacity:1!important; }

    /* Marquee animation (duration set via inline style) */
    @keyframes marqueeShift{ from{ transform: translateX(0); } to{ transform: translateX(-50%); } }
    .ticker.marquee .belt{ animation: marqueeShift var(--dur, 22s) linear infinite; }
  </style>
</head>
<body>

  <img src="logo.png" class="logo" alt="Porto Bello Hotel" />

  <div id="clock"></div>
  <div id="date"></div>

  <div class="bottom">
    <!-- Row 1 -->
    <div id="row1" class="ticker">
      <div class="belt">
        <div class="content" id="r1">
          <span id="breakfast">üç≥ Breakfast 07:00‚Äì10:00</span><span class="sep">|</span>
          <span id="lateBreakfast">ü•ê Late Breakfast 10:00‚Äì10:30</span><span class="sep">|</span>
          <span id="lunch">üçΩÔ∏è Lunch 12:30‚Äì14:00</span><span class="sep">|</span>
          <span id="snack">üç™ Snack 14:30‚Äì15:30</span>
        </div>
        <!-- clone is injected by JS if needed -->
      </div>
    </div>

    <!-- Row 2 -->
    <div id="row2" class="ticker">
      <div class="belt">
        <div class="content" id="r2">
          <span id="dinner">üç∑ Dinner 18:30‚Äì21:00</span><span class="sep">|</span>
          <span id="show">üéâ Animation Show 21:30</span><span class="sep">|</span>
          <span id="lateSnack">üåô Late Snack 23:00‚Äì06:00</span><span class="sep">|</span>
          <span id="lobbyBar">üç∏ Lobby Bar 08:30‚Äì00:00</span>
        </div>
        <!-- clone is injected by JS if needed -->
      </div>
    </div>
  </div>

  <script>
    /* ---------- Time helpers ---------- */
    const ids = ["breakfast","lateBreakfast","lunch","snack","dinner","show","lateSnack","lobbyBar"];
    const toMin = (h,m)=>h*60+m;
    const nowMin = d=>d.getHours()*60 + d.getMinutes();
    const inRange = (n,s,e)=> s<e ? (n>=s && n<=e) : (s>e ? (n>=s || n<=e) : n===s);
    const isPast  = (n,s,e)=> s<e ? (n>e) : ((n>e) && (n<s)); // overnight gap

    /* ---------- Schedule ---------- */
    const schedule = {
      breakfast:     {start:toMin(7,0),   end:toMin(10,0),  badge:"NOW OPEN", type:"food"},
      lateBreakfast: {start:toMin(10,0),  end:toMin(10,30), badge:"NOW OPEN", type:"food"},
      lunch:         {start:toMin(12,30), end:toMin(14,0),  badge:"NOW OPEN", type:"food"},
      snack:         {start:toMin(14,30), end:toMin(15,30), badge:"NOW OPEN", type:"food"},

      dinner:        {start:toMin(18,30), end:toMin(21,0),  badge:"NOW OPEN", type:"food"},

      // Show: 21:30‚Äì22:30 (kolayca deƒüi≈ütirilebilir)
      show:          {start:toMin(21,30), end:toMin(22,30), badge:"LIVE NOW", type:"live"},

      lateSnack:     {start:toMin(23,0),  end:toMin(6,0),   badge:"NOW OPEN", type:"food"}, // overnight
      lobbyBar:      {start:toMin(8,30),  end:1440,        badge:"NOW OPEN", type:"food"}   // up to midnight
    };

    /* ---------- States & badges ---------- */
    function clearStates(){
      ids.forEach(id=>{
        const el=document.getElementById(id);
        el.classList.remove("active","activeGlow","live","past");
        const b=el.querySelector(".badge"); if(b) b.remove();
      });
    }
    function addBadge(el,text,isLive=false){
      const b=document.createElement("span");
      b.className="badge"+(isLive?" badge-live":"");
      b.textContent=text; el.appendChild(b);
    }

    function updateStates(d){
      const n=nowMin(d);
      clearStates();
      Object.entries(schedule).forEach(([key,rule])=>{
        const el=document.getElementById(key);
        const active=inRange(n,rule.start,rule.end);
        const past  =isPast(n,rule.start,rule.end);

        if(active){
          if(rule.type==="live"){ el.classList.add("live","activeGlow"); addBadge(el,rule.badge,true); }
          else{ el.classList.add("active","activeGlow"); addBadge(el,rule.badge,false); }
        } else if (past){
          el.classList.add("past");
        }
      });
    }

    /* ---------- Clock & date ---------- */
    function tick(){
      const d=new Date();
      document.getElementById("clock").textContent = d.toLocaleTimeString("en-GB",{hour12:false});
      document.getElementById("date").textContent  = d.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"});
      updateStates(d);
    }

    /* ---------- Smart marquee (only if needed) ---------- */
    function setupMarquee(rowId){
      const row = document.getElementById(rowId);
      const belt = row.querySelector(".belt");
      const content = belt.querySelector(".content");

      // Need marquee only if content is wider than the visible row
      const needed = content.scrollWidth > row.clientWidth + 10;
      if(!needed){ row.classList.remove("marquee"); const clone=belt.querySelector(".content.clone"); if(clone) clone.remove(); return; }

      // Duplicate content for seamless scroll
      if(!belt.querySelector(".content.clone")){
        const clone = content.cloneNode(true); clone.classList.add("clone");
        belt.appendChild(clone);
      }

      // Duration proportional to width (bigger text => longer loop)
      const px = content.scrollWidth;
      const dur = Math.max(22, Math.min(60, px/35)); // 22‚Äì60s arasƒ±
      row.style.setProperty('--dur', dur+'s');
      row.classList.add("marquee");
    }

    function setupAllMarquees(){
      setupMarquee("row1");
      setupMarquee("row2");
    }

    /* ---------- Init ---------- */
    tick(); setupAllMarquees();
    // Refresh every second; re-evaluate marquee occasionally (√∂rn. badge eklenince geni≈ülik deƒüi≈üebilir)
    setInterval(tick, 1000);
    setInterval(setupAllMarquees, 4000);

    // Resize handling
    window.addEventListener('resize', setupAllMarquees);
  </script>
</body>
</html>
